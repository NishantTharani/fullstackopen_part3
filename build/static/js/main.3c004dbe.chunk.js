(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{19:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var r=t(2),a=t(14),c=t.n(a),o=(t(19),t(3)),i=t(4),u=t.n(i),s="/api/persons",d=function(){return u.a.get(s).then((function(e){return e.data}))},l=function(e){return u.a.post(s,e).then((function(e){return e.data}))},b=function(e){return u.a.delete("".concat(s,"/").concat(e)).then((function(e){return e.data}))},j=t(0),h=function(e){var n=e.nameFilter,t=e.handleNameFilterChange;return Object(j.jsxs)("div",{children:["filter shown with ",Object(j.jsx)("input",{value:n,onChange:t})]})},f=function(e){var n=e.newName,t=e.newNumber,r=e.handleNameChange,a=e.handleNumberChange,c=e.handleSubmit;return Object(j.jsxs)("form",{children:[Object(j.jsxs)("div",{children:["name: ",Object(j.jsx)("input",{value:n,onChange:r})]}),Object(j.jsxs)("div",{children:["number: ",Object(j.jsx)("input",{value:t,onChange:a})]}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{type:"submit",onClick:c,children:"add"})})]})},m=function(e){var n=e.persons,t=e.nameFilter,r=e.handleDelete;return n.filter((function(e){return e.name.toLowerCase().includes(t)})).map((function(e){return Object(j.jsxs)("div",{children:[e.name," ",e.number,Object(j.jsx)("button",{onClick:function(){return r(e.id,e.name)},children:"Delete"})]},e.id)}))},O=function(e){var n=e.message,t=e.type,r={};return"error"===t?r={color:"red",background:"lightgrey",fontSize:"20px"}:"added"===t&&(r={color:"green",background:"lightblue",fontSize:"20px"}),Object(j.jsx)("div",{style:r,className:"notification",children:n})},g=function(){var e=Object(r.useState)([]),n=Object(o.a)(e,2),t=n[0],a=n[1],c=Object(r.useState)(""),i=Object(o.a)(c,2),u=i[0],s=i[1],g=Object(r.useState)(""),p=Object(o.a)(g,2),x=p[0],v=p[1],w=Object(r.useState)(""),C=Object(o.a)(w,2),N=C[0],S=C[1],k=Object(r.useState)(""),y=Object(o.a)(k,2),F=y[0],D=y[1],z=Object(r.useState)(""),E=Object(o.a)(z,2),I=E[0],J=E[1];Object(r.useEffect)((function(){d().then((function(e){a(e)}))}),[]);return Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:"Phonebook"}),Object(j.jsx)(O,{message:F,type:"added"}),Object(j.jsx)(O,{message:I,type:"error"}),Object(j.jsx)(h,{nameFilter:N,handleNameFilterChange:function(e){S(e.target.value.toLowerCase())}}),Object(j.jsx)("h2",{children:"add a new"}),Object(j.jsx)(f,{newName:u,newNumber:x,handleNameChange:function(e){s(e.target.value)},handleNumberChange:function(e){v(e.target.value)},handleSubmit:function(e){if(e.preventDefault(),t.filter((function(e){return e.name===u})).length>0)alert("".concat(u," is already added to phonebook"));else{var n={name:u,number:x};l(n).then((function(e){a(e),s(""),D("Added ".concat(n.name)),setTimeout((function(){D("")}),4e3)}))}}}),Object(j.jsx)("h2",{children:"Numbers"}),Object(j.jsx)(m,{persons:t,nameFilter:N,handleDelete:function(e,n){console.log(e),window.confirm("Sure you want to delete ".concat(n,"?"))&&b(e).then((function(n){a(t.filter((function(n){return n.id!==e})))})).catch((function(r){a(t.filter((function(n){return n.id!==e}))),J("Information of ".concat(n," has already been removed from the server"))}))}})]})};c.a.render(Object(j.jsx)(g,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.3c004dbe.chunk.js.map